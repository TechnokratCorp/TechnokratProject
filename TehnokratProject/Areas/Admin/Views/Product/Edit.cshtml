@model TehnokratProject.Areas.Admin.ViewModels.ProductUpdateViewModel

<h2>Редагування даних товару</h2>
<br />

<form asp-action="Edit" method="post" asp-controller="Product" enctype="multipart/form-data">
    <p>
        <label asp-for="title">Назва</label><br />
        <input type="text" asp-for="title" />
    </p>
    <p>
        <label asp-for="brand">Бренд</label><br />
        <select asp-for="brand" asp-items="@(new SelectList(Model.BrandOptions))">
            <option value="">-- Оберіть бренд --</option>
        </select>
        <span asp-validation-for="brand" class="text-danger"></span>
    </p>
    <p>
        <label asp-for="description">Опис</label><br />
        <textarea placeholder="Напишіть опис тут" asp-for="description" style="width: 80%; height: 150px;"></textarea>
    </p>
    <p>
        <label asp-for="quantity">Кількість</label><br />
        <input type="number" asp-for="quantity" />
    </p>
    <p>
        <label asp-for="price">Ціна</label><br />
        <input type="number" asp-for="price" />
    </p>
    <p>
        <label asp-for="status">Статус</label><br />
        <input type="checkbox" asp-for="status" />
        <span asp-validation-for="status" class="text-danger"></span>
    </p>
    <p>
        <label asp-for="state">Стан</label><br />
        <select asp-for="state" asp-items="@(new SelectList(Model.StateOptions))">
            <option value="">-- Стан --</option>
        </select>
        <span asp-validation-for="state" class="text-danger"></span>
    </p>

    <div>
        <label>Зображення:</label><br />
        <input type="file" name="ImageFiles" multiple /><br />
    </div>

    <div>
        <br></br><input type="submit" value="Зберегти" class="btn btn-add" />
    </div>
</form>

@if (Model.ExistingImages != null && Model.ExistingImages.Any())
{
    <div style="margin-top: 20px;">
        <label>Поточні зображення:</label>
        <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px;">
            @foreach (var image in Model.ExistingImages)
            {
                <div style="position: relative; width: 100px; height: 100px;">
                    <img src="@image.ImagePath" alt="Image"
                         style="width: 100%; height: 100%; object-fit: cover; border: 1px solid #ccc;" />
                    <form asp-action="DeleteImage"
                          asp-controller="Product"
                          asp-route-id="@image.Id"
                          method="post"
                          style="position: absolute; top: 0; right: 0; margin: 0;">
                        <button type="submit"
                                style="background: red; color: white; border: none; font-size: 12px; padding: 0 5px; cursor: pointer;">
                            X
                        </button>
                    </form>
                </div>
            }
        </div>
    </div>
}

<form asp-action="Index" asp-controller="Product" method="get" style="margin-top: 10px;">
    <br></br><input type="submit" value="Назад" />
</form>



